<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">

        <title> View Groupmates </title>
        <script>

            document.addEventListener('DOMContentLoaded', function() {
                document.getElementById('view-group-button').onclick = function(event) {
                    const algorithmSelected = document.getElementById("select-algorithm").value;
                    if (algorithmSelected === "cumulative") {
                        fetch("/api/{{ passcode }}/{{ student_id }}/group_cumulative")
                        .then(response => response.json())
                        .then(data => {
                            const rankingList = data["data"];
                            var groupmatesUL = document.getElementById('groupmate-rank-list');
                            function addToGroupList(item) {
                                var groupmateLI = document.createElement('li');
                                groupmateLI.appendChild(document.createTextNode(item[0]));
                                groupmatesUL.appendChild(groupmateLI);
                            }
                            rankingList.forEach(addToGroupList);
                        })
                    }
                }
            })
                

        </script>
    </head>
    <body>
        <select id="select-algorithm" aria-placeholder="Choose Method">
            <option value="cumulative"> Cumulative </option>
            <option value="chunks"> Chunks </option>
        </select>
        <button id="view-group-button"> View </button>
        <ul id="groupmate-rank-list">
        </ul>
    </body>
</html>